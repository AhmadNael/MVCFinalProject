@model MVCFinalProject.Models.Userinfo

@{
    Layout = "~/views/shared/_AdminLayout.cshtml";
    var UsersCount = ViewBag.Users ?? 0;
    var ChefsCount = ViewBag.Chefs ?? 0;
    var RecipesCount = ViewBag.Recipes ?? 0;
    var SumOfTaxes = ViewBag.SumOfTaxes ?? 0M;
    var SummOfPending = ViewBag.SummOfPending ?? 0;
    var SummOfAccepting = ViewBag.SummOfAccepting ?? 0;
    var SummOfRejecting = ViewBag.SummOfRejecting ?? 0;
    var SummOfOrders = ViewBag.NumberOfOrders ?? 0;
    // var SummOfRejectingTest =ViewBag.SummOfTestRejecting ?? 0; 
    // var SummOfTestPending = ViewBag.SummOfTestPending ?? 0;
    // var SummOfTestAccepting = ViewBag.SummOfTestAccepting ?? 0;
    var SummOfTest = ViewBag.NumberOfTestmonials ?? 0;
    var SummOfCategories = ViewBag.NumberOfCategories ?? 0;

}




    <div class="content-wrapper">
    <div class="row">
        <div class="col-12 grid-margin stretch-card">
            <div class="card corona-gradient-card">
                <div class="card-body py-0 px-0 px-sm-3">
                    <div class="row align-items-center">
                        <div class="col-4 col-sm-3 col-xl-2">
                            <img src="~/Admin/images/dashboard/Group126@2x.png" class="gradient-corona-img img-fluid" alt="">
                        </div>
                        <div class="col-5 col-sm-7 col-xl-8 p-0">
                            <h4 class="mb-1 mb-sm-0">Welcome Admin @Model.FirstName @Model.LastName</h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

        <div class="row">
            <div class="col-xl-3 col-sm-6 grid-margin stretch-card">
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-9">
                                <div class="d-flex align-items-center align-self-start">
                                    <h3 class="mb-0">@UsersCount</h3>
                                    
                                </div>
                            </div>
                            <div class="col-3">
                                <div class="icon icon-box-success ">
                                    <span class="mdi mdi-arrow-top-right icon-item"></span>
                                </div>
                            </div>
                        </div>
                        <h6 class="text-muted font-weight-normal">Number of users</h6>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-sm-6 grid-margin stretch-card">
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-9">
                                <div class="d-flex align-items-center align-self-start">
                                    <h3 class="mb-0">@ViewBag.Chefs</h3>
                                    
                                </div>
                            </div>
                            <div class="col-3">
                                <div class="icon icon-box-success">
                                    <span class="mdi mdi-arrow-top-right icon-item"></span>
                                </div>
                            </div>
                        </div>
                        <h6 class="text-muted font-weight-normal">Number of Chefs</h6>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-sm-6 grid-margin stretch-card">
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-9">
                                <div class="d-flex align-items-center align-self-start">
                                <h3 class="mb-0">@ViewBag.Recipes</h3>
                                    
                                </div>
                            </div>
                            <div class="col-3">
                            <div class="icon icon-box-success">
                                    <span class="mdi mdi-arrow-top-right icon-item"></span>
                                </div>
                            </div>
                        </div>
                        <h6 class="text-muted font-weight-normal">Numbers of recipes</h6>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-sm-6 grid-margin stretch-card">
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-9">
                                <div class="d-flex align-items-center align-self-start">
                                <h3 class="mb-0">@ViewBag.SumOfTaxes</h3>
                                    
                                </div>
                            </div>
                            <div class="col-3">
                                <div class="icon icon-box-success ">
                                    <span class="mdi mdi-arrow-top-right icon-item"></span>
                                </div>
                            </div>
                        </div>
                        <h6 class="text-muted font-weight-normal">Profits</h6>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 grid-margin stretch-card">
            <div id="c3-pie-chart"></div>
            <div id="c3-donut-chart"></div>

                </div>
            </div>
    <div class="row">
        <div class="col-xl-3 col-sm-6 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-9">
                            <div class="d-flex align-items-center align-self-start">
                                <h3 class="mb-0">@SummOfOrders</h3>

                            </div>
                        </div>
                        <div class="col-3">
                            <div class="icon icon-box-success ">
                                <span class="mdi mdi-arrow-top-right icon-item"></span>
                            </div>
                        </div>
                    </div>
                    <h6 class="text-muted font-weight-normal">Number of Orders</h6>
                </div>
            </div>

        </div>
        <div class="col-xl-3 col-sm-6 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-9">
                            <div class="d-flex align-items-center align-self-start">
                                <h3 class="mb-0">@SummOfTest</h3>

                            </div>
                        </div>
                        <div class="col-3">
                            <div class="icon icon-box-success ">
                                <span class="mdi mdi-arrow-top-right icon-item"></span>
                            </div>
                        </div>
                    </div>
                    <h6 class="text-muted font-weight-normal">Number of Testimonials</h6>
                </div>
            </div>

        </div>
        <div class="col-xl-3 col-sm-6 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-9">
                            <div class="d-flex align-items-center align-self-start">
                                <h3 class="mb-0">@SummOfCategories</h3>

                            </div>
                        </div>
                        <div class="col-3">
                            <div class="icon icon-box-success ">
                                <span class="mdi mdi-arrow-top-right icon-item"></span>
                            </div>
                        </div>
                    </div>
                    <h6 class="text-muted font-weight-normal">Number of Categories</h6>
                </div>
            </div>

        </div>
       
      
        
    </div>
    </div>



<script src="https://d3js.org/d3.v5.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.min.css" rel="stylesheet" />

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var c3PieChart = c3.generate({
            bindto: '#c3-pie-chart',
            data: {
                columns: [
                    ['Pending', @SummOfPending],
                    ['Accepted', @SummOfAccepting],
                    ['Rejected', @SummOfRejecting]
                ],
                type: 'pie',
                onclick: function (d, i) {
                    console.log("onclick", d, i);
                },
                onmouseover: function (d, i) {
                    console.log("onmouseover", d, i);
                },
                onmouseout: function (d, i) {
                    console.log("onmouseout", d, i);
                }
            },
            color: {
                pattern: ['#6153F9', '#8E97FC', '#A7B3FD']
            },
            padding: {
                top: 0,
                right: 0,
                bottom: 30,
                left: 0,
            }
        });

        var c3DonutChart = c3.generate({
            bindto: '#c3-donut-chart',
            data: {
                columns: [
                    ['Pending', @SummOfPending],
                    ['Accepted', @SummOfAccepting],
                    ['Rejected', @SummOfRejecting]
                ],
                type: 'donut',
                onclick: function (d, i) {
                    console.log("onclick", d, i);
                },
                onmouseover: function (d, i) {
                    console.log("onmouseover", d, i);
                },
                onmouseout: function (d, i) {
                    console.log("onmouseout", d, i);
                }
            },
            color: {
                pattern: ['rgba(88,216,163,1)', 'rgba(4,189,254,0.6)', 'rgba(237,28,36,0.6)']
            },
            padding: {
                top: 0,
                right: 0,
                bottom: 30,
                left: 0,
            },
            donut: {
                title: "Recipe Status"
            }
        });


        setTimeout(function () {
            c3PieChart.load({
                columns: [
                    ["Income", 0.2, 0.2, 0.2, 0.2, 0.2, 0.4, 0.3, 0.2, 0.2, 0.1, 0.2, 0.2, 0.1, 0.1, 0.2, 0.4, 0.4, 0.3, 0.3, 0.3, 0.2, 0.4, 0.2, 0.5, 0.2, 0.2, 0.4, 0.2, 0.2, 0.2, 0.2, 0.4, 0.1, 0.2, 0.2, 0.2, 0.2, 0.1, 0.2, 0.2, 0.3, 0.3, 0.2, 0.6, 0.4, 0.3, 0.2, 0.2, 0.2, 0.2],
                    ["Outcome", 1.4, 1.5, 1.5, 1.3, 1.5, 1.3, 1.6, 1.0, 1.3, 1.4, 1.0, 1.5, 1.0, 1.4, 1.3, 1.4, 1.5, 1.0, 1.5, 1.1, 1.8, 1.3, 1.5, 1.2, 1.3, 1.4, 1.4, 1.7, 1.5, 1.0, 1.1, 1.0, 1.2, 1.6, 1.5, 1.6, 1.5, 1.3, 1.3, 1.3, 1.2, 1.4, 1.2, 1.0, 1.3, 1.2, 1.3, 1.3, 1.1, 1.3],
                    ["Revenue", 2.5, 1.9, 2.1, 1.8, 2.2, 2.1, 1.7, 1.8, 1.8, 2.5, 2.0, 1.9, 2.1, 2.0, 2.4, 2.3, 1.8, 2.2, 2.3, 1.5, 2.3, 2.0, 2.0, 1.8, 2.1, 1.8, 1.8, 1.8, 2.1, 1.6, 1.9, 2.0, 2.2, 1.5, 1.4, 2.3, 2.4, 1.8, 1.8, 2.1, 2.4, 2.3, 1.9, 2.3, 2.5, 2.3, 1.9, 2.0, 2.3, 1.8]
                ]
            });
        }, 1500);

        setTimeout(function () {
            c3PieChart.unload({
                ids: 'data1'
            });
            c3PieChart.unload({
                ids: 'data2'
            });
        }, 2500);

        $(document).ready(function () {
            var c3PieChart = c3.generate({
                bindto: '#c3-pie-chart',
                data: {
                    // iris data from R
                    columns: [
                        ['Test Pending', @ViewBag.SummOfTestPending],
                        ['Test Accepting', @ViewBag.SummOfTestAccepting],
                        ['Test Rejecting', @ViewBag.SummOfTestRejecting],
                    ],
                    type: 'pie',
                    onclick: function (d, i) {
                        console.log("onclick", d, i);
                    },
                    onmouseover: function (d, i) {
                        console.log("onmouseover", d, i);
                    },
                    onmouseout: function (d, i) {
                        console.log("onmouseout", d, i);
                    }
                },
                color: {
                    pattern: ['#6153F9', '#8E97FC', '#A7B3FD']
                },
                padding: {
                    top: 0,
                    right: 0,
                    bottom: 30,
                    left: 0,
                }
            });
        });
    });
</script>

